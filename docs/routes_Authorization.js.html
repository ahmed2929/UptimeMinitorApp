<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>routes/Authorization.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/your-github-username/pet-adoption-center-sdk" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><h3>Namespaces</h3><ul><li><a href="Auth.html">Auth</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Auth.html#.exports.GenerateAccessResetPasswordToken">exports.GenerateAccessResetPasswordToken</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.GenerateAccessResetPasswordToken">exports.GenerateAccessResetPasswordToken</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.GenerateAccessToken">exports.GenerateAccessToken</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.GenerateAccessToken">exports.GenerateAccessToken</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.ResendVerificationCode">exports.ResendVerificationCode</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.ResetPassword">exports.ResetPassword</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.ResetPassword">exports.ResetPassword</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.SendRestPasswordCode">exports.SendRestPasswordCode</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.SendRestPasswordCode">exports.SendRestPasswordCode</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.VerifyAccount">exports.VerifyAccount</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.logIn">exports.logIn</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.logIn">exports.logIn</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.logOut">exports.logOut</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.signUp">exports.signUp</a></li><li data-type='method' style='display: none;'><a href="Auth.html#.exports.signUp">exports.signUp</a></li></ul></li><li></li><li><a href="Doses.html">Doses</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Doses.html#.exports.ChangeDoseStatus">exports.ChangeDoseStatus</a></li><li data-type='method' style='display: none;'><a href="Doses.html#.exports.EditSingleDose">exports.EditSingleDose</a></li><li data-type='method' style='display: none;'><a href="Doses.html#.exports.SuspendDoses">exports.SuspendDoses</a></li><li data-type='method' style='display: none;'><a href="Doses.html#.exports.TakeAsNeededDose">exports.TakeAsNeededDose</a></li><li data-type='method' style='display: none;'><a href="Doses.html#.exports.getAllDoses">exports.getAllDoses</a></li><li data-type='method' style='display: none;'><a href="Doses.html#.exports.getDoses">exports.getDoses</a></li></ul></li><li><a href="HelperFunctions.html">HelperFunctions</a><ul class='methods'><li data-type='method' style='display: none;'><a href="HelperFunctions.html#.GenerateRefreshToken">GenerateRefreshToken</a></li></ul></li><li><a href="Measurement.html">Measurement</a></li><li></li><li><a href="MedicalCircle.html">MedicalCircle</a><ul class='methods'><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.Cancelinvitationifitisstillpending">Cancel invitation if it is still pending</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.DeleteDependent">DeleteDependent</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.EditCareGiverPermissions">EditCareGiverPermissions</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.deleteCareGiverPermissions">deleteCareGiverPermissions</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.exports.AddCareGiver">exports.AddCareGiver</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.exports.CareGiver">exports.CareGiver</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.exports.ChangeInvitationStatus">exports.ChangeInvitationStatus</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.exports.ChangeInvitationStatusToAcceptDependent">exports.ChangeInvitationStatusToAcceptDependent</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.exports.CreateDependentA">exports.CreateDependentA</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.exports.CreateDependentB">exports.CreateDependentB</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.exports.Dependents">exports.Dependents</a></li><li data-type='method' style='display: none;'><a href="MedicalCircle.html#.exports.getInvitations">exports.getInvitations</a></li></ul></li><li><a href="Medication.html">Medication</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Medication.html#.exports.CreateNewMed">exports.CreateNewMed</a></li><li data-type='method' style='display: none;'><a href="Medication.html#.exports.EditMed">exports.EditMed</a></li><li data-type='method' style='display: none;'><a href="Medication.html#.exports.deleteMedicationCycle">exports.deleteMedicationCycle</a></li><li data-type='method' style='display: none;'><a href="Medication.html#.exports.getMedication">exports.getMedication</a></li></ul></li><li><a href="Report.html">Report</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Report.html#.exports.getReport">exports.getReport</a></li><li data-type='method' style='display: none;'><a href="Report.html#.exports.getReportSingleMed">exports.getReportSingleMed</a></li></ul></li><li><a href="Settings.html">Settings</a></li><li></li><li><a href="Symptom.html">Symptom</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Symptom.html#.exports.BloodGlucoseMeasurement">exports.BloodGlucoseMeasurement</a></li><li data-type='method' style='display: none;'><a href="Symptom.html#.exports.BloodPressureMeasurement">exports.BloodPressureMeasurement</a></li><li data-type='method' style='display: none;'><a href="Symptom.html#.exports.CreateSymptom">exports.CreateSymptom</a></li><li data-type='method' style='display: none;'><a href="Symptom.html#.exports.DeleteBloodGlucoseMeasurement">exports.DeleteBloodGlucoseMeasurement</a></li><li data-type='method' style='display: none;'><a href="Symptom.html#.exports.DeleteBloodPressureMeasurement">exports.DeleteBloodPressureMeasurement</a></li><li data-type='method' style='display: none;'><a href="Symptom.html#.exports.DeleteSymptom">exports.DeleteSymptom</a></li><li data-type='method' style='display: none;'><a href="Symptom.html#.exports.EditSymptom">exports.EditSymptom</a></li><li data-type='method' style='display: none;'><a href="Symptom.html#.exports.getSymptoms">exports.getSymptoms</a></li></ul></li><li><a href="general.html">general</a></li><li><a href="routes.html">routes</a></li></ul><h3>Global</h3><ul><li><a href="global.html#EditNotificationSettings">EditNotificationSettings</a></li><li><a href="global.html#InvitationSentToCareGiverToBeMaster_AR">InvitationSentToCareGiverToBeMaster_AR</a></li><li><a href="global.html#InvitationSentToCareGiver_AR">InvitationSentToCareGiver_AR</a></li><li><a href="global.html#InvitationSentToDependent_EN">InvitationSentToDependent_EN</a></li><li><a href="global.html#getNotificationSettings">getNotificationSettings</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">routes/Authorization.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file routes/Authorization.js
 * @namespace Auth
 * @namespace routes
 * 
 */

const express = require("express");
const router = express.Router();
const userController = require("../Controller/Users/Authorization/index");
const validation = require("../utils/Validation");
const IsAuth  =require('../utils/Authorization').authorization
const authorizeRefreshToken  =require('../utils/Authorization').authorizeRefreshToken


/**
 * create a new user
 * signup
 *
 * @route POST /auth/signup
 * @memberof routes
 * @memberof Auth
 * @method
 *
 */

router.post(
    "/signup",
    validation.signUpValidationRules(),
    validation.validate,
    userController.signUp
);

/**
 * 
 * login existing user
 *
 * @route POST /auth/login
 * @memberof routes
 * @memberof Auth
 * @method
 *
 */

router.post(
    "/login",
    validation.loginValidationRules(),
    validation.validate,
    userController.logIn
);
router.post(
    "/logout",
    IsAuth(),
    userController.logOut
);


/**
 * 
 * verify user account 
 *
 * @route POST /auth/verifyaccount
 * @memberof routes
 * @memberof Auth
 * @method
 *
 */


router.post(
    "/verifyaccount",
    validation.virifyAccount(),
    validation.validate,
    userController.VerifyAccount
);

/**
 * 
 * resend activation code to the user
 *
 * @route POST /auth/resend/activation/code
 * @memberof routes
 * @memberof Auth
 * @method
 *
 */


router.post(
    "/resend/activation/code",
    validation.resendAcctivationCodeValidationRules(),
    validation.validate,
    userController.ResendVerificationCode
);


/**
 * 
 * generate new access token to the user from his refresh token
 *
 * @route POST /auth/generate/access/token
 * @memberof routes
 * @memberof Auth
 * @method
 *
 */


router.post(
    "/generate/access/token",
    authorizeRefreshToken(),
    userController.GenerateAccessToken
);


/**
 * 
 * send otp code to the user to rest password
 *
 * @route POST /auth/send/restpassword/code
 * @memberof routes
 * @memberof Auth
 * @method
 *
 */


router.post(
    "/send/restpassword/code",
    validation.SendRestPasswordCode(),
    validation.validate,
    userController.SendRestPasswordCode
);

/**
 * 
 * takes otp code which sent via email with the user email and return token to rest password
 *
 * @route POST /auth/generate/restpassword/token
 * @memberof routes
 * @memberof Auth
 * @method
 *
 */


router.post(
    "/generate/restpassword/token",
    validation.GenerateResetPasswordToken(),
    validation.validate,
    userController.GenerateAccessResetPasswordToken
);


/**
 * 
 * take user new password
 *
 * @route put /auth/resetpassword
 * @memberof routes
 * @memberof Auth
 * @method
 *
 */


router.put(
    "/resetpassword",
    validation.restpassword(),
    validation.validate,
    IsAuth(),
    userController.ResetPassword
);

router.get(
    "/get/profile/info",
    IsAuth(),
    userController.getUserProfileInfo
);



module.exports = router;</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.0</a> on Wed Apr 05 2023 14:22:31 GMT+0200 (Eastern European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
